{"ast":null,"code":"import { appStorageName } from \"../globals/globals\";\nexport function getFavs() {\n  let favsFromStorage = localStorage.getItem(appStorageName);\n\n  if (favsFromStorage === null) {\n    favsFromStorage = [];\n  } else {\n    favsFromStorage = JSON.parse(favsFromStorage);\n  }\n\n  return favsFromStorage;\n}\nexport function isFav(mid) {\n  let favsFromStorage = getFavs();\n\n  if (favsFromStorage.length === 0) {\n    return false;\n  } else {\n    const item = favsFromStorage.find(movie => movie.id === mid);\n\n    if (item === undefined) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\nexport function addToFav(movie) {\n  let favsFromStorage = getFavs();\n  favsFromStorage = [...favsFromStorage, movie];\n  const favsForStorage = JSON.stringify(favsFromStorage);\n  localStorage.setItem(appStorageName, favsForStorage);\n  return favsFromStorage;\n}\nexport function deleteFav(movie) {\n  let favsFromStorage = getFavs();\n  const indexToRemove = favsFromStorage.findIndex(item => item.id === movie.id);\n  favsFromStorage.splice(indexToRemove, 1);\n  let favsForStorage = JSON.stringify(favsFromStorage);\n  localStorage.setItem(appStorageName, favsForStorage);\n  return favsFromStorage;\n}","map":{"version":3,"sources":["/Users/alicelu/Desktop/PROJECTS/moogle/src/utilities/storage.js"],"names":["appStorageName","getFavs","favsFromStorage","localStorage","getItem","JSON","parse","isFav","mid","length","item","find","movie","id","undefined","addToFav","favsForStorage","stringify","setItem","deleteFav","indexToRemove","findIndex","splice"],"mappings":"AAAA,SAASA,cAAT,QAAgC,oBAAhC;AAEA,OAAO,SAASC,OAAT,GAAmB;AACtB,MAAIC,eAAe,GAAGC,YAAY,CAACC,OAAb,CAAqBJ,cAArB,CAAtB;;AACA,MAAGE,eAAe,KAAK,IAAvB,EAA6B;AACzBA,IAAAA,eAAe,GAAG,EAAlB;AACH,GAFD,MAEM;AACFA,IAAAA,eAAe,GAAGG,IAAI,CAACC,KAAL,CAAWJ,eAAX,CAAlB;AACH;;AACD,SAAOA,eAAP;AACH;AAED,OAAO,SAASK,KAAT,CAAeC,GAAf,EAAoB;AACvB,MAAIN,eAAe,GAAGD,OAAO,EAA7B;;AACA,MAAGC,eAAe,CAACO,MAAhB,KAA2B,CAA9B,EAAiC;AAC7B,WAAO,KAAP;AACH,GAFD,MAEM;AACF,UAAMC,IAAI,GAAGR,eAAe,CAACS,IAAhB,CAAqBC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaL,GAA3C,CAAb;;AACA,QAAIE,IAAI,KAAKI,SAAb,EAAwB;AACpB,aAAO,KAAP;AACH,KAFD,MAEM;AACF,aAAO,IAAP;AACH;AACJ;AACJ;AAED,OAAO,SAASC,QAAT,CAAkBH,KAAlB,EAAyB;AAC5B,MAAIV,eAAe,GAAGD,OAAO,EAA7B;AACAC,EAAAA,eAAe,GAAG,CAAC,GAAGA,eAAJ,EAAqBU,KAArB,CAAlB;AACA,QAAMI,cAAc,GAAGX,IAAI,CAACY,SAAL,CAAef,eAAf,CAAvB;AACAC,EAAAA,YAAY,CAACe,OAAb,CAAqBlB,cAArB,EAAqCgB,cAArC;AACA,SAAOd,eAAP;AACH;AAED,OAAO,SAASiB,SAAT,CAAmBP,KAAnB,EAA0B;AAC7B,MAAIV,eAAe,GAAGD,OAAO,EAA7B;AAEA,QAAMmB,aAAa,GAAGlB,eAAe,CAACmB,SAAhB,CAA0BX,IAAI,IAAIA,IAAI,CAACG,EAAL,KAAYD,KAAK,CAACC,EAApD,CAAtB;AAEAX,EAAAA,eAAe,CAACoB,MAAhB,CAAuBF,aAAvB,EAAsC,CAAtC;AAEA,MAAIJ,cAAc,GAAGX,IAAI,CAACY,SAAL,CAAef,eAAf,CAArB;AAEAC,EAAAA,YAAY,CAACe,OAAb,CAAqBlB,cAArB,EAAqCgB,cAArC;AAEA,SAAOd,eAAP;AACH","sourcesContent":["import { appStorageName  } from \"../globals/globals\";\n\nexport function getFavs() {\n    let favsFromStorage = localStorage.getItem(appStorageName);\n    if(favsFromStorage === null) {\n        favsFromStorage = [];\n    }else {\n        favsFromStorage = JSON.parse(favsFromStorage);\n    }\n    return favsFromStorage;\n}\n\nexport function isFav(mid) {\n    let favsFromStorage = getFavs();\n    if(favsFromStorage.length === 0) {\n        return false;\n    }else {\n        const item = favsFromStorage.find(movie => movie.id === mid)\n        if (item === undefined) {\n            return false;\n        }else {\n            return true;\n        }\n    }\n}\n\nexport function addToFav(movie) {\n    let favsFromStorage = getFavs();\n    favsFromStorage = [...favsFromStorage, movie];\n    const favsForStorage = JSON.stringify(favsFromStorage);\n    localStorage.setItem(appStorageName, favsForStorage);\n    return favsFromStorage;\n}\n\nexport function deleteFav(movie) {\n    let favsFromStorage = getFavs();\n\n    const indexToRemove = favsFromStorage.findIndex(item => item.id === movie.id);\n\n    favsFromStorage.splice(indexToRemove, 1);\n\n    let favsForStorage = JSON.stringify(favsFromStorage);\n\n    localStorage.setItem(appStorageName, favsForStorage);\n\n    return favsFromStorage;\n}"]},"metadata":{},"sourceType":"module"}